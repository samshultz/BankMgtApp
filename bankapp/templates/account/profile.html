{% extends "base.html" %}
{% load static %}

{% block title %}
  {{ block.super }}
{% endblock title %}

{% block header %}
  <!-- App Header -->
  <div class="appHeader">
    <div class="left">
        <a href="#" class="headerButton goBack">
            <ion-icon name="chevron-back-outline"></ion-icon>
        </a>
    </div>
    <div class="pageTitle">
        Profile
    </div>
    <div class="right">
    </div>
</div>
<!-- * App Header -->
{% endblock header %}

{% block body %}
<div class="section mt-3 text-center">
    <div class="avatar-section">
        <a href="#">
            <img src="{% static 'bankapp/img/sample/avatar/avatar1.jpg' %}" alt="avatar" class="imaged w100 rounded">
            <span class="button">
                <ion-icon name="camera-outline"></ion-icon>
            </span>
        </a>
    </div>
</div>

<div class="listview-title mt-1">Notifications</div>
<ul class="listview image-listview text">
    <li>
        <div class="item">
            <div class="in">
                <div>
                    Payment Alert
                    <div class="text-muted">
                        Send notification when new payment received
                    </div>
                </div>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch4" checked/>
                    <label class="custom-control-label" for="customSwitch4"></label>
                </div>
            </div>
        </div>
    </li>
    <li>
        <a href="#" class="item">
            <div class="in">
                <div>Notification Sound</div>
                <span class="text-primary">Beep</span>
            </div>
        </a>
    </li>
</ul>

<div class="listview-title mt-1">Profile Settings</div>
<ul class="listview image-listview text">
    <li>
        <a href="{% url 'account_email' %}" class="item" data-toggle="modal" data-target="#UpdateEmailDialog">
            <div class="in">
                <div>Update E-mail</div>
            </div>
        </a>
    </li>
       <li>
        <a class="item" data-toggle="modal" data-target="#logoutDialog">
            <div class="in">
                <div>Logout</div>
            </div>
        </a>
    </li>
</ul>

<div class="listview-title mt-1">Security</div>
<ul class="listview image-listview text mb-2">
    <li>
        <a href="{% url 'account_change_password' %}" data-toggle="modal" data-target="#UpdatePasswordDialog" class="item">
            <div class="in">
                <div>Update Password</div>
            </div>
        </a>
    </li>
    <li>
        <div class="item">
            <div class="in">
                <div>
                    2 Step Verification
                </div>
                <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch3" checked/>
                    <label class="custom-control-label" for="customSwitch3"></label>
                </div>
            </div>
        </div>
    </li>
    <li>
        <a href="{% url 'user_sessions:session_list' %}" class="item">
            <div class="in">
                <div>Device Management</div>
            </div>
        </a>
    </li>
    <li>
      <form method="post" action="{% url 'user_sessions:session_delete_other' %}">
            {% csrf_token %}
            <div class="in">
                <div><input type="submit" class="btn btn-primary" value="Log out all devices"></div>
            </div>
        </form>
    </li>
</ul>

{% include "../bankapp/partials/__bottom_menu.html" %}
{% include "../bankapp/partials/__sidebar.html" %}

{% include "./partials/__accessPullUp.html" with form=form csrf_token=csrf_token only %}
{% include "./partials/__logoutDialog.html" with csrf_token=csrf_token only %}

{% include "./partials/__emailChangeForm.html" with form=email_form csrf_token=csrf_token only %}
{% include "./partials/__confirmDialog.html" only %}
{% include "./partials/__updateEmailDialog.html" with user=request.user only %}
{% endblock body %}
